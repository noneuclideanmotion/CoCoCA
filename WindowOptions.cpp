#pragma once
#include <SFML/Graphics.hpp>
#include "Constants.h"
#include <iostream>

class WindowOptions : public sf::Drawable
{
public:
	WindowOptions(sf::Window& window) : m_window(window)
	{
		//m_close_texture.loadFromMemory(m_image_data, sizeof(m_image_data));
		m_close_texture.loadFromFile("close.png");
		m_close_sprite.setColor(sf::Color(255, 255, 255, m_transparent ? 100 : 255));
		m_close_sprite.setTexture(m_close_texture);
		m_close_sprite.setPosition(window.getSize().x - C::CLOSE_OFFSET * window.getSize().x, C::CLOSE_OFFSET * window.getSize().x - C::CLOSE_SIZE);
	}
	void event_clicked(sf::Vector2i mousePosition, bool clicked)
	{
		sf::Vector2f mousePosF = sf::Vector2f(mousePosition.x, mousePosition.y);
		if (m_close_sprite.getGlobalBounds().contains(mousePosF))
		{
			m_transparent = false;
			if (clicked)
			{
				m_window.close();
			}
		}
		else
		{
			m_transparent = true;
		}
		m_close_sprite.setColor(sf::Color(255, 255, 255, m_transparent ? 100 : 255));
	}

	virtual void draw(sf::RenderTarget& target, sf::RenderStates states) const
	{
		//assuming m_shape is the sf::RectangleShape
		target.draw(m_close_sprite, states);
	}

private:
	sf::Window& m_window;
	bool m_transparent = true;
	sf::Texture m_close_texture;
	sf::Sprite m_close_sprite;
	char m_image_data[1876] = "\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x3f\x00\x00\x3f\x00\x00\x3f\x00\x00\x00\x00\x00\x00\x00\x00";
};